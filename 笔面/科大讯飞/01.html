<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>
    // // // 本题为考试单行多行输入输出规范示例，无需提交，不计分。
    // process.stdin.resume();
    // process.stdin.setEncoding("ascii");

    // var input = "";
    // var input_array = "";

    // process.stdin.on("data", function (data) {
    //   input += data;
    // });

    // process.stdin.on("end", function () {
    //   input_array = input.split("\n");
    //   var nLine = 0;
    //   let m, n, k, l;
    //   const matrix = [],
    //     grid = [];
    //   //   console.log(input_array.length);
    //   while (nLine < input_array.length) {
    //     var line = input_array[nLine].trim();
    //     var arr = line.split(" ");
    //     arr = arr.map((item) => {
    //       return parseInt(item);
    //     });
    //     if (nLine == 0) {
    //       m = parseInt(arr[0]);
    //       n = parseInt(arr[1]);
    //       k = parseInt(arr[2]);
    //       l = parseInt(arr[3]);
    //     } else if (nLine >= 1 && nLine <= m) {
    //       matrix.push(arr);
    //     } else if (nLine > m && nLine <= m + k) {
    //       grid.push(arr);
    //     }
    //     nLine++;
    //   }

    //   //   console.log(m, n, k, l);
    //   //   console.log(matrix);
    //   //   console.log(grid);
    //   const res = new Array(m).fill("").map((item) => {
    //     return new Array(n).fill(0);
    //   });
    //   //   console.log(res);
    //   let centerx = Math.floor(grid.length / 2),
    //     centery = Math.floor(grid[0].length / 2);
    //   // console.log(centerX, centerY)

    //   for (let i = 0; i < m; i++) {
    //     for (let j = 0; j < n; j++) {
    //       let sum = 0;
    //       // let sum = matrix[i][j] * grid[centerX][centerY]
    //       let startx = i - centerx;
    //       let starty = j - centery;
    //       for (let o = 0; o < k; o++) {
    //         for (let p = 0; p < l; p++) {
    //           if (
    //             startx + o >= 0 &&
    //             startx + o < m &&
    //             starty + p >= 0 &&
    //             starty + p < n
    //           ) {
    //             sum += matrix[startx + o][starty + p] * grid[o][p];
    //           }
    //         }
    //       }
    //       if (sum > 255) {
    //         sum = 255;
    //       } else if (sum < 0) {
    //         sum = 0;
    //       }
    //       res[i][j] = sum;
    //     }
    //   }
    //   res.forEach(item => {
    //     console.log(item.join(' '))
    //   })
    //   //   console.log(res);
    // });

    // // 本题为考试多行输入输出规范示例，无需提交，不计分。
    // var readline = require('readline');
    // const rl = readline.createInterface({
    //   input: process.stdin,
    //   output: process.stdout,
    //   terminal: false
    // });

    // var n = -1;// 初始状态为负数，表示还没开始读取
    // var ans = 0;
    // var cur_line = 0;
    // rl.on('line', function (line) { // javascript每行数据的回调接口
    //   if (n < 0) { // 测试用例第一行读取n
    //     n = parseInt(line.trim())
    //   } else {
    //     // 矩阵数据读取
    //     var tokens = line.split(' ');
    //     for (var i = 0; i < tokens.length; ++i) {
    //       // 题目逻辑求和，边读取边计算
    //       ans += parseInt(tokens[i]);
    //     }
    //     // 记录当前读取的行数
    //     cur_line += 1;
    //   }

    //   // 读取行数结束，如果确定只有一行额外的数据输入，也可以通过cur_line === 1来判断
    //   if (n === cur_line) {
    //     // 输出结果
    //     console.log(ans);
    //     // 重新初始化相关变量
    //     n = -1;
    //     ans = 0;
    //     cur_line = 0;
    //   }
    // });


    // 第一题
    // const m = 7, n = 7, k = 3, l = 3
    // const matrix = [
    //   [2, 3, 7, 4, 6, 2, 9],
    //   [6, 6, 9, 8, 7, 4, 3],
    //   [3, 4, 8, 3, 8, 9, 7],
    //   [7, 8, 3, 6, 6, 3, 4],
    //   [4, 2, 1, 8, 3, 4, 6],
    //   [3, 2, 4, 1, 9, 8, 3],
    //   [0, 1, 3, 9, 2, 1, 4]]
    // const grid = [
    //   [4, 8, 4],
    //   [8, 16, 8],
    //   [-4, 8, - 4]]

    // const res = new Array(m).fill('').map(item => { return new Array(n).fill(0) })
    // // console.log(res)
    // let centerx = Math.floor(grid.length / 2), centery = Math.floor(grid[0].length / 2)
    // // console.log(centerX, centerY)

    // for (let i = 0; i < m; i++) {
    //   for (let j = 0; j < n; j++) {
    //     let sum = 0
    //     // let sum = matrix[i][j] * grid[centerX][centerY]
    //     let startx = i - centerx
    //     let starty = j - centery
    //     for (let o = 0; o < k; o++) {
    //       for (let p = 0; p < l; p++) {
    //         if (startx + o >= 0 && startx + o < m && starty + p >= 0 && starty + p < n) {
    //           sum += matrix[startx + o][starty + p] * grid[o][p]
    //         }
    //       }
    //     }
    //     if (sum > 255) {
    //       sum = 255
    //     } else if (sum < 0) {
    //       sum = 0
    //     }
    //     res[i][j] = sum
    //   }
    // }
    // console.log(res)


    const n = 5, m = 5
    const matrix = [
      [1, 5, 3, 2, 5],
      [1, 0, 4, 7, 2],
      [3, 4, 2, 3, 3],
      [1, 3, 2, 4, 8],
      [4, 3, 1, 5, 7]]
    const grid = [
      [1, 5, 3, 2, 5],
      [2, 3, 4, 6, 2],
      [3, 3, 3, 4, 1],
      [1, 3, 4, 5, 8],
      [4, 2, 7, 3, 8]]

    const diff = new Array(n).fill('').map(item => { return new Array(m).fill(0) })
    console.log(diff)

    for (let i = 0; i < n; i++) {
      for (let j = 0; j < m; j++) {
        if (matrix[i][j] == grid[i][j]) {
          diff[i][j] = 1
        }
      }
    }

    let res = 0
    for (let i = 0; i < n; i++) {
      for (let j = 0; j < m; j++) {
        if (diff[i][j] == 0) {
          continue
        }
        let curres = 0
        // console.log(i, j)
        let vis = new Array(n).fill('').map(d => new Array(m).fill(0))
        var arr = []
        var dirs = [[0, 1], [0, -1], [1, 0], [-1, 0]]
        arr.push({
          x: i,
          y: j
        })
        // console.log(arr)
        vis[i][j] = 1
        // console.log(arr.length)
        while (arr.length !== 0) {
          let cur = arr.shift()
          // console.log(cur.num)
          curres++
          // let flag = false
          for (var dir of dirs) {
            let nx = cur.x + dir[0]
            let ny = cur.y + dir[1]
            if (nx < n && nx >= 0 && ny < m && ny >= 0 && vis[nx][ny] == 0 && diff[nx][ny] == 1) {
              // flag = true
              arr.push({
                x: nx,
                y: ny
              })
              vis[nx][ny] = 1
            }
          }
        }
        console.log(curres)
        res = Math.max(res, curres)
      }
    }
    console.log(res)

    // 本题为考试单行多行输入输出规范示例，无需提交，不计分。
// process.stdin.resume();
// process.stdin.setEncoding("ascii");

// var input = "";
// var input_array = "";

// process.stdin.on("data", function (data) {
//   input += data;
// });

// process.stdin.on("end", function () {
//   input_array = input.split("\n");
//   var nLine = 0;
//   var n, m;
//   var matrix = [],
//     grid = [];
//   while (nLine < input_array.length) {
//     var line = input_array[nLine].trim();
//     //     if (line === "") {
//     //       continue;
//     //     }
//     var arr = line.split(" ");
//     arr = arr.map((item) => {
//       return parseInt(item);
//     });
//     if (nLine == 0) {
//       n = arr[0];
//       m = arr[1];
//     } else if (nLine >= 1 && nLine <= n) {
//       matrix.push(arr);
//     } else if (nLine > n && nLine <= 2 * n) {
//       grid.push(arr);
//     }
//     nLine++;
//   }
//   //   console.log(n,m)
//   //   console.log(matrix)
//   //   console.log(grid)
//   const diff = new Array(n).fill("").map((item) => {
//     return new Array(m).fill(0);
//   });
// //   console.log(diff);

//   for (let i = 0; i < n; i++) {
//     for (let j = 0; j < m; j++) {
//       if (matrix[i][j] == grid[i][j]) {
//         diff[i][j] = 1;
//       }
//     }
//   }

//   let res = 0;
//   for (let i = 0; i < n; i++) {
//     for (let j = 0; j < m; j++) {
//       if (diff[i][j] == 0) {
//         continue;
//       }
//       let curres = 0;
//       // console.log(i, j)
//       let vis = new Array(n).fill("").map((d) => new Array(m).fill(0));
//       var arr = [];
//       var dirs = [
//         [0, 1],
//         [0, -1],
//         [1, 0],
//         [-1, 0],
//       ];
//       arr.push({
//         x: i,
//         y: j,
//       });
//       // console.log(arr)
//       vis[i][j] = 1;
//       // console.log(arr.length)
//       while (arr.length !== 0) {
//         let cur = arr.shift();
//         // console.log(cur.num)
//         curres++;
//         // let flag = false
//         for (var dir of dirs) {
//           let nx = cur.x + dir[0];
//           let ny = cur.y + dir[1];
//           if (
//             nx < n &&
//             nx >= 0 &&
//             ny < m &&
//             ny >= 0 &&
//             vis[nx][ny] == 0 &&
//             diff[nx][ny] == 1
//           ) {
//             // flag = true
//             arr.push({
//               x: nx,
//               y: ny,
//             });
//             vis[nx][ny] = 1;
//           }
//         }
//       }
//       res = Math.max(res, curres);
//     }
//   }
//   console.log(res);
// });













  </script>

</body>

</html>