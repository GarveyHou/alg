<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>
    arr = [14, 4, 18, 1, 15], a = 3, b = 15, x = 9
    // arr = [1, 6, 2, 14, 5, 17, 4], a = 16, b = 9, x = 7
    // arr = [8, 3, 16, 6, 12, 20], a = 15, b = 13, x = 11
    // -1表示此次跳跃失败，flag = 0往右跳,1表示往左跳
    var process = function (i, flag, set) {
      if (i < 0) {
        return -1
      }
      if (i > 100) {
        return -1
      }
      arr.forEach((item) => {
        if (i == item) {
          return -1
        }
      })

      if (set.has(i)) {
        return -1
      } else {
        set.add(i)
      }
      if (i == x) {
        return 0
      }
      // 只能往右
      if (flag == 1) {
        if (process(i + a, 0, set) == -1) {
          return -1
        } else {
          return 1 + process(i + a, 0, set)
        }
      } else { //可以往左也可以往右
        if (process(i + a, 0, set) == -1 && process(i - b, 1, set) == -1) {
          return -1
        } else {
          if (process(i + a, 0, set) == -1) {
            return 1 + process(i - b, 1, set)
          }
          if (process(i - b, 1, set) == -1) {
            return 1 + process(i + a, 0, set)
          }
          return Math.min(1 + process(i + a, 0, set), 1 + process(i - b, 1, set))
        }
      }
    }
    console.log(process(0, 0, new Set()))
  </script>

</body>

</html>